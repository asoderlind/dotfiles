#!/bin/bash

push () {
    rsync -arv --progress --delete "$@" "$HOME/cloud/" monkebrain.com:cloud/
}

pull () {
    rsync -arv --progress "$@" monkebrain.com:cloud/notes/ "$HOME/cloud/notes/" 
}

publish () {
  cd "$HOME/repos/minpage" &&
  python3 basic.py &&
  rsync -arv --progress "$@" "$HOME/repos/minpage/output/" monkebrain.com:blog/ 
}

if [ ! -d "$HOME/cloud" ]; then
    mkdir -p "$HOME/cloud"
fi

case "$1" in
    "push") shift; push "$@" ;;
    "pull") shift; pull "$@" ;;
    "publish") shift; publish "$@" ;;
esac
